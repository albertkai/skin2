$.fn.modal=function(){var o=($("._modal-open"),$(".modal .close"),$(this));$("#overlay"),$("body").on("click","._modal-open",function(o){e(o)}),$(".modal .close, #overlay").on("click",function(o){n(o)}),$("body").on("modal:close",function(){n()});var n=function(){o.removeClass("_opened"),o.addClass("_closed"),setTimeout(function(){console.log(o),o.find(".body").empty()},500),$("#overlay").removeClass("_show"),console.log("closed")},e=function(o){var n=$(o.target).data("target"),e=$("#"+n);if(e.removeClass("_closed"),e.addClass("_opened"),$("#overlay").addClass("_show"),console.log("Modal is opened"),e.data("tmpl")===!0){var t=$("#_"+n).html();console.log(t),e.find(".body").append(t)}else if("undefined"!=typeof e.data("fetch")){var a=$(o.target).data("param"),d=e.data("fetch").replace(":param",a),t=$("#_"+n).html();$.get(d,function(o){var n=_.template(t,o);e.find(".body").append(n)})}setTimeout(function(){$("body").trigger({type:"modal:open",message:"invalid form submission attempts."})},100)}};var helpers=function(){if($(".radio").length>0){console.log("Swithers init"),$(".radio"),$(".radio:first").addClass("_active"),$("body").on("click",".radio",function(n){o(n)});var o=function(o){$(".radio").removeClass("_active"),$(o.target).addClass("_active")}}};$.fn.dropdown=function(){console.log("Dropdown init");var o=$(".dropdown"),n=($(".dropdown .current"),$('.dropdown input[type="hidden"]')),e=$(".dropdown ul");(function(){$(".dropdown ul li:first").addClass("_active"),$(".dropdown").each(function(){var o=$(this).attr("id");$(this).find('input[type="hidden"]').attr("name",o)})})(),o.on("mouseenter",function(o){console.log("dropdown fired"),t(o)}),o.on("mouseleave",function(o){a(o)}),e.on("click",function(o){d(o)});var t=function(o){$(o.target).closest(".dropdown").find("ul").addClass("_shown")},a=function(){o.find("ul").removeClass("_shown")},d=function(o){var e=$(o.target).closest("li").data("value"),t=$(o.target).closest("li").html();$("body").find(".dropdown ul li").removeClass("_active"),$(o.target).addClass("_active"),n.val(e),$(o.target).closest("ul").siblings(".current").find("._content").html(t),a(),$(o.target).closest("ul").siblings('input[type="hidden"]').val(e),$(o.target).parents(".dropdown").data("value",e),$(o.target).parents(".dropdown").trigger("dropdown:change")}};